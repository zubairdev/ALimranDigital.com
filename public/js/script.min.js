!function(){var a=document.querySelector(".hamburger"),b=document.querySelector(".quote:not(.quote--for-project)"),c=document.querySelector(".page-head"),d=c.querySelector(".call-to-action"),e=c.classList.contains("page-head--no-start-bg"),f=c.classList.contains("page-head--no-start-logo"),g=0,h=(document.querySelector(".social-feed-list"),null!==document.querySelector(".article.project")),i=null!==document.querySelector(".article.event"),j=null!==document.querySelector(".manifest"),k=document.querySelector(".contact-form"),l=document.querySelectorAll('[class*="play-on-scroll"]'),m=document.querySelector(".hero__video[autoplay]"),n=0,o=0,p=100,q="/src/projects.php",r="/src/events.php",s=function(){n=document.body.scrollTop,u(),t()},t=function(){for(var a=0,b=0;b<l.length;b++){a=l[b].getBoundingClientRect().top+document.body.scrollTop-n;try{Math.abs(a)<A?l[b].play():l[b].pause()}catch(a){}}},u=function(){var a=c.getAttribute("class");window.scrollY>=.7*g?(d.classList.contains("call-to-action--alt")||d.classList.add("call-to-action--alt"),c.classList.contains("page-head--fixed")||(a+=" page-head--fixed"),a=a.replace("page-head--no-start-bg",""),a=a.replace("page-head--no-start-logo","")):(a=a.replace("page-head--fixed",""),d.classList.contains("call-to-action--alt")&&!c.classList.contains("page-head--open")&&d.classList.remove("call-to-action--alt"),e&&!c.classList.contains("page-head--no-start-bg")&&(a+=" page-head--no-start-bg"),f&&!c.classList.contains("page-head--no-start-logo")&&(a+=" page-head--no-start-logo")),c.setAttribute("class",a)},v=function(a){if(4==a.readyState&&200==a.status)try{var c=window.JSON.parse(a.responseText),d='<p class="quote__text">&quot;'+c.text+"&quot;</p>";d+='<small class="quote__author">'+c.author+"</small>",b.innerHTML=d}catch(a){}},w=function(a){if(4==a.readyState&&200==a.status){for(var b=window.JSON.parse(a.responseText),c="",d=0;d<b.length;d++)c+='<li class="gallery__item">',c+='<a href="'+b[d].url+'" title="'+b[d].title+'" class="gallery__link">',c+='<span class="gallery__attention-text">'+b[d].title+"</span>",c+='<img alt="'+b[d].title+'" src="'+b[d].image+'" class="gallery__img"></a></li>';document.querySelector(".gallery").innerHTML=c}},x=function(a){if(4==a.readyState&&200==a.status){for(var b=window.JSON.parse(a.responseText),c="",d=0;d<b.length;d++)c+='<li class="event-list__item">',c+='<a href="'+b[d].url+'" title="'+b[d].title+'" class="event-list__link">',c+='<span class="event-list__date">'+b[d].date,c+='<span class="event-list__detail">'+b[d].title+"</span></span>",c+='<img alt="'+b[d].title+'" src="'+b[d].image+'" class="event-list__img"></a></li>';document.querySelector(".event-list").innerHTML=c}},y=function(){try{g=document.querySelector(".hero").offsetHeight,window.addEventListener("scroll",function(){o&&window.clearTimeout(o),o=window.setTimeout(s,p)})}catch(a){}},z=function(a){var b=new XMLHttpRequest,c=new FormData(k),d=function(a){if(4==a.readyState)if(k.classList.remove("contact-form--submitting"),200==a.status)k.classList.add("contact-form--submitted");else for(var b=window.JSON.parse(a.responseText),c=0;c<b.length;c++)k.querySelector('[name="'+b[c]+'"]').setAttribute("value","invalid or missing value")};a.preventDefault(),k.classList.add("contact-form--submitting"),b.onreadystatechange=function(a){return function(){d(a)}}(b),b.open("POST",k.getAttribute("action"),!0),b.send(c)},A=Math.max(window.innerHeight,document.body.offsetHeight,document.documentElement.clientHeight);if(a.addEventListener("click",function(){a.classList.toggle("hamburger--active"),c.classList.toggle("page-head--open"),null!==d&&d.classList.toggle("call-to-action--alt")}),null!==b){var B=new XMLHttpRequest;B.onreadystatechange=function(a){return function(){v(a)}}(B),B.open("GET","/src/quotes.php?fetch_quote=1",!0),B.send("")}if(h){var C=new XMLHttpRequest;C.onreadystatechange=function(a){return function(){w(a)}}(C),C.open("GET",q+"?fetch_projects=1",!0),C.send("")}if(i){var D=new XMLHttpRequest;D.onreadystatechange=function(a){return function(){x(a)}}(D),D.open("GET",r+"?fetch_events=1",!0),D.send("")}if(j)for(var E=document.querySelectorAll(".manifest__services-header"),F=0;F<E.length;F++)!function(a){E[a].addEventListener("click",function(){document.querySelector(".manifest__services-header--toggled").classList.remove("manifest__services-header--toggled"),E[a].classList.add("manifest__services-header--toggled"),window.matchMedia("(min-width: 1200px)").matches||window.scrollTo(0,E[a].getBoundingClientRect().top+window.scrollY)},!1)}(F);null!==k&&k.addEventListener("submit",z,!1),c.classList.contains("page-head--no-scroll-listen")||y(),null!==m&&m.play()}();